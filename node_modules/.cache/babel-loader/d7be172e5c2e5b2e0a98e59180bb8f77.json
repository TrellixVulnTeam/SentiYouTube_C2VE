{"ast":null,"code":"var _jsxFileName = \"/Users/lib-user/Documents/Term-2/cloud/newGitPull/Cloud-computing-5409/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport '../stylesheets/Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Alert, Button, Col, Form, Row } from \"react-bootstrap\";\nimport Amplify, { Auth } from 'aws-amplify'; // import { AmplifyAuthenticator, AmplifySignOut } from \"@aws-amplify/ui-react\";\n\nimport React, { useEffect, useState } from 'react';\nimport Navigation from './Navigation';\nimport VerificationPage from './verifyEmail';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const history = useHistory();\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [validEmail, setValidEmail] = useState(false);\n  const [validPassword, setValidPassword] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [result, setResult] = useState('');\n  const [code, setCode] = useState(false);\n  const [errMessage, setErrMessage] = useState({\n    msgEmail: '',\n    msgPassword: ''\n  });\n  const emailRegex = new RegExp(\"^[a-zA-Z0-9][-\\\\w\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n  const passwordRegex = new RegExp(\"^.*(?=.{8,120})(?!.*\\\\s)(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[\\\\@\\\\#\\\\$\\\\%\\\\&\\\\*]).*$\");\n\n  const handleChange = (key, value) => {\n    setUser({ ...user,\n      [key]: value\n    });\n  };\n\n  const handleErrorMsg = (key, value) => {\n    setErrMessage({ ...user,\n      [key]: value\n    });\n  }; // const checkValidEmail = (email) => {\n  //     setValidEmail(true)\n  //     handleChange(\"email\", email);\n  // };\n\n\n  const checkValidEmail = email => {\n    if (emailRegex.test(email)) {\n      document.getElementById(\"email\").style.border = \"1px solid green\";\n      setValidEmail(true);\n      handleChange(\"email\", email);\n      handleErrorMsg(\"msgEmail\", '');\n    } else {\n      document.getElementById(\"email\").style.border = \"1px solid red\";\n      setValidEmail(false);\n      handleErrorMsg(\"msgEmail\", 'Please enter valid email');\n    }\n  };\n\n  const checkValidPassword = pass => {\n    if (passwordRegex.test(pass)) {\n      document.getElementById(\"password\").style.border = \"1px solid green\";\n      setValidPassword(true);\n      handleChange(\"password\", pass);\n      handleErrorMsg(\"msgPassword\", '');\n    } else {\n      document.getElementById(\"password\").style.border = \"1px solid red\";\n      setValidPassword(false);\n      handleErrorMsg(\"msgPassword\", 'Password must contain must contain at least one digit, one capital, small character and one of the folowing chars- @, #, $,%,&,*');\n    }\n  };\n\n  Amplify.configure({\n    Auth: {\n      identityPoolId: 'us-east-1:7f9e2b86-796a-433b-98ce-439c2900954b',\n      region: 'us-east-1',\n      identityPoolRegion: 'us-east-1',\n      userPoolId: 'us-east-1_luHcWv4fs',\n      userPoolWebClientId: '69cu1qub7mr7cdnplqkkeu3kdl'\n    }\n  });\n\n  const withdrawSubmit = e => {\n    e.preventDefault();\n\n    if (!validEmail && !validPassword) {\n      document.getElementById(\"password\").style.border = \"1px solid red\";\n      document.getElementById(\"email\").style.border = \"1px solid red\";\n      document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n      setAlertMessage('Please enter required fields');\n    } else {\n      if (validEmail) {\n        if (validPassword) {\n          document.getElementById(\"alertNotSubmit\").style.display = \"none\";\n\n          try {\n            Auth.signIn(user.email, user.password).then(data => {\n              if (data != null) {\n                console.log('success', data);\n\n                if (data.username != null) {\n                  history.push({\n                    pathname: '/home'\n                  });\n                } else {\n                  document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n                  setAlertMessage(\"fail\");\n                }\n              }\n            }).catch(err => {\n              document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n              setAlertMessage(err.message);\n            });\n          } catch (error) {\n            document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n            setAlertMessage('error signing up:', error);\n          }\n        } else {\n          document.getElementById(\"password\").style.border = \"1px solid red\";\n          document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n          setAlertMessage('Please enter required fields');\n        }\n      } else {\n        document.getElementById(\"email\").style.border = \"1px solid red\";\n        document.getElementById(\"alertNotSubmit\").style.display = \"block\";\n        setAlertMessage('Please enter required fields');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/register\",\n            style: {\n              float: 'right'\n            },\n            children: \"Create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-6\",\n          style: {\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            border: \"1px solid black\",\n            padding: \"2%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row justify-content-md-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-lg-8\",\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"LOGIN\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-6\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email ID*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"textbox-design\",\n                id: \"email\",\n                placeholder: \"Enter email ID\",\n                style: {\n                  border: \"1px solid green\"\n                },\n                onChange: e => {\n                  checkValidEmail(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: errMessage.msgEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-6\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"textbox-design\",\n                id: \"password\",\n                maxLength: \"20\",\n                placeholder: \"Enter Password\",\n                style: {\n                  border: \"1px solid green\"\n                },\n                onChange: e => {\n                  checkValidPassword(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: errMessage.msgPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"#ff632f\",\n              border: \"none\"\n            },\n            type: \"submit\",\n            onClick: e => {\n              withdrawSubmit(e);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            id: \"alertNotSubmit\",\n            style: {\n              display: 'none'\n            },\n            variant: \"danger\",\n            children: alertMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"kcWotL1NEKVuT7NQWd9p2QXgHb0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/lib-user/Documents/Term-2/cloud/newGitPull/Cloud-computing-5409/src/components/Login.js"],"names":["Alert","Button","Col","Form","Row","Amplify","Auth","React","useEffect","useState","Navigation","VerificationPage","axios","useHistory","Login","props","history","user","setUser","email","password","validEmail","setValidEmail","validPassword","setValidPassword","alertMessage","setAlertMessage","result","setResult","code","setCode","errMessage","setErrMessage","msgEmail","msgPassword","emailRegex","RegExp","passwordRegex","handleChange","key","value","handleErrorMsg","checkValidEmail","test","document","getElementById","style","border","checkValidPassword","pass","configure","identityPoolId","region","identityPoolRegion","userPoolId","userPoolWebClientId","withdrawSubmit","e","preventDefault","display","signIn","then","data","console","log","username","push","pathname","catch","err","message","error","float","marginLeft","marginRight","padding","textAlign","target","backgroundColor"],"mappings":"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","sourcesContent":["import '../stylesheets/Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport { Alert, Button, Col, Form, Row } from \"react-bootstrap\";\nimport Amplify, { Auth } from 'aws-amplify';\n// import { AmplifyAuthenticator, AmplifySignOut } from \"@aws-amplify/ui-react\";\nimport React, { useEffect, useState } from 'react';\n\nimport Navigation from './Navigation';\nimport VerificationPage from './verifyEmail';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login(props) {\n\n    const history = useHistory();\n    const [user, setUser] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    const [validEmail, setValidEmail] = useState(false);\n    const [validPassword, setValidPassword] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [result, setResult] = useState('');\n    const [code, setCode] = useState(false);\n\n    const [errMessage, setErrMessage] = useState({\n        msgEmail: '',\n        msgPassword: ''\n    });\n\n    const emailRegex = new RegExp(\"^[a-zA-Z0-9][-\\\\w\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n    const passwordRegex = new RegExp(\"^.*(?=.{8,120})(?!.*\\\\s)(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[\\\\@\\\\#\\\\$\\\\%\\\\&\\\\*]).*$\");\n\n    const handleChange = (key, value) => {\n        setUser({ ...user, [key]: value });\n    };\n    const handleErrorMsg = (key, value) => {\n        setErrMessage({ ...user, [key]: value });\n    };\n\n    // const checkValidEmail = (email) => {\n    //     setValidEmail(true)\n    //     handleChange(\"email\", email);\n    // };\n    const checkValidEmail = (email) => {\n        if (emailRegex.test(email)) {\n            document.getElementById(\"email\").style.border = \"1px solid green\"\n            setValidEmail(true)\n            handleChange(\"email\", email);\n            handleErrorMsg(\"msgEmail\", '')\n        }\n        else {\n            document.getElementById(\"email\").style.border = \"1px solid red\"\n            setValidEmail(false)\n            handleErrorMsg(\"msgEmail\", 'Please enter valid email')\n        }\n    };\n\n    const checkValidPassword = (pass) => {\n        if (passwordRegex.test(pass)) {\n            document.getElementById(\"password\").style.border = \"1px solid green\"\n            setValidPassword(true)\n            handleChange(\"password\", pass);\n            handleErrorMsg(\"msgPassword\", '')\n        }\n        else {\n            document.getElementById(\"password\").style.border = \"1px solid red\"\n            setValidPassword(false)\n            handleErrorMsg(\"msgPassword\", 'Password must contain must contain at least one digit, one capital, small character and one of the folowing chars- @, #, $,%,&,*')\n        }\n    };\n\n    Amplify.configure({\n        Auth: {\n            identityPoolId: 'us-east-1:7f9e2b86-796a-433b-98ce-439c2900954b',\n            region: 'us-east-1',\n            identityPoolRegion: 'us-east-1',\n            userPoolId: 'us-east-1_luHcWv4fs',\n            userPoolWebClientId: '69cu1qub7mr7cdnplqkkeu3kdl'\n        }\n    });\n\n    const withdrawSubmit = (e) => {\n        e.preventDefault();\n        if (!validEmail && !validPassword) {\n            document.getElementById(\"password\").style.border = \"1px solid red\"\n            document.getElementById(\"email\").style.border = \"1px solid red\"\n            document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n            setAlertMessage('Please enter required fields')\n        }\n        else {\n            if (validEmail) {\n                if (validPassword) {\n                    document.getElementById(\"alertNotSubmit\").style.display = \"none\"\n                    try {\n                        Auth.signIn(user.email, user.password).then(\n                            data => {\n                                if (data != null) {\n                                    console.log('success', data)\n                                    if (data.username != null) {\n\n                                        history.push({\n                                            pathname: '/home'\n                                        })\n                                    }\n                                    else {\n                                        document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n                                        setAlertMessage(\"fail\")\n                                    }\n                                }\n                            }\n                        ).catch(\n                            (err) => {\n\n                                document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n                                setAlertMessage(err.message)\n                            }\n                        )\n                    } catch (error) {\n                        document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n                        setAlertMessage('error signing up:', error)\n                    }\n\n                }\n                else {\n                    document.getElementById(\"password\").style.border = \"1px solid red\"\n                    document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n                    setAlertMessage('Please enter required fields')\n                }\n\n            }\n            else {\n                document.getElementById(\"email\").style.border = \"1px solid red\"\n                document.getElementById(\"alertNotSubmit\").style.display = \"block\"\n                setAlertMessage('Please enter required fields')\n            }\n        }\n    }\n\n    return (\n        <section>\n            {/* <Navigation/> */}\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <a href=\"/register\" style={{ float: 'right' }}>Create an account</a>\n                    </div>\n                </div>\n                <br /><br /><br /><br />\n                <div class=\"row\">\n                    <br /><br />\n\n                    <div class=\"col-6\" style={{ marginLeft: \"auto\", marginRight: \"auto\", border: \"1px solid black\", padding: \"2%\" }}>\n                        <div class=\"row justify-content-md-center\">\n                            <div class=\"col-lg-8\" style={{ textAlign: 'center' }}>\n                                <h2>LOGIN</h2>\n                            </div>\n                        </div>\n                        <br />\n\n                        <div class=\"row d-flex justify-content-center\">\n                            <div class=\"col-6\">\n                                <Form.Label>Email ID*</Form.Label>\n                                <br />\n                                <input type=\"text\" className=\"textbox-design\" id=\"email\" placeholder=\"Enter email ID\" style={{ border: \"1px solid green\" }}\n                                    onChange={(e) => {\n                                        checkValidEmail(e.target.value);\n                                    }}\n                                />\n                                <h6>{errMessage.msgEmail}</h6>\n                            </div>\n                        </div>\n                        <div class=\"row d-flex justify-content-center\">\n                            <div class=\"col-6\">\n                                <Form.Label>Password*</Form.Label>\n                                <br />\n                                <input type=\"password\" className=\"textbox-design\" id=\"password\" maxLength=\"20\" placeholder=\"Enter Password\" style={{ border: \"1px solid green\" }}\n                                    onChange={(e) => {\n                                        checkValidPassword(e.target.value);\n                                    }}\n                                />\n                                <h6>{errMessage.msgPassword}</h6>\n                                {/* <div><p>{errMessage.msgPassword}</p></div> */}\n                            </div>\n                        </div>\n                        <br />\n                        <Button style={{ backgroundColor: \"#ff632f\", border: \"none\"}} type=\"submit\"\n                            onClick={(e) => {\n                                withdrawSubmit(e);\n                            }}\n                        >Submit</Button>\n                        <br /><br />\n\n                        <Alert id=\"alertNotSubmit\" style={{ display: 'none' }} variant='danger'>\n                            {alertMessage}\n                        </Alert>\n\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n}\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}